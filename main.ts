namespace SpriteKind {
    export const gun = SpriteKind.create()
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    projectile = sprites.createProjectileFromSprite(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 4 4 . . . . . . . 
        . . . . . . 4 5 5 4 . . . . . . 
        . . . . . . 2 5 5 2 . . . . . . 
        . . . . . . . 2 2 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, revolver, Render.getAttribute(Render.attribute.dirX) * 200, Render.getAttribute(Render.attribute.dirY) * 200)
    Render.setSpriteAttribute(projectile, RCSpriteAttribute.ZOffset, -5)
    animation.runImageAnimation(
    revolver,
    [img`
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ...........bbbb..bb.............
        .......bbbbbbbbbbbbbb...........
        ......bbbbbbbbdddbbbb...........
        ......bbbbbdddddddbbbb..........
        ......bbbbddd4ddddbbbbb.........
        ......bbbbdddddd4dddbbbb........
        ......bbbbbdddd44ddddbbb........
        .......bbbddd44444dddbb.........
        .......bbbdd4444444ddbb.........
        ........bbbddd4e44ddbbb.........
        .........bb5555e5555bbb.........
        ..........55555555555...........
        .........5555555555555..........
        ........555555555555555.........
        .......5555555e5e5555555........
        .......44444444444444444........
        .......4ed44444444444de4........
        .......ee4444444444444ee........
        .......ee4444444444444ee........
        .......ee4444444444444ee........
        .......4ed44444444444de4........
        .......44444444444444444........
        .......f.......f.......f........
        ......f.......f.f.......f.......
        `,img`
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        .............bbbbb..............
        ..........bbbbbbbb..............
        .........bbbbbbbbb..............
        .......bbbbbbbdddddd............
        ......bbbbbbbddddddd............
        .....bbbbbbddddddddd............
        .....bbbbbdddddddddd............
        .....bbbbdddddd.ddddd...........
        .....bbbbdddddd...ddd...........
        .....bbbbbddddd...ddd...........
        .....bbbbbbdd..e.ddd............
        ......b....5555e5555............
        ..........55555555555...........
        .........5555555555555..........
        ........555555555555555.........
        .......5555555e5e5555555........
        .......44444444444444444........
        .......4ed44444444444de4........
        .......ee4444444444444ee........
        .......ee4444444444444ee........
        .......ee4444444444444ee........
        .......4ed44444444444de4........
        .......44444444444444444........
        .......f.......f.......f........
        ......f.......f.f.......f.......
        `,img`
        ................................
        ................................
        ................................
        ................................
        ...........bbbbb................
        .....bbbbbbbbbbbbb..............
        ....bbbbbbbbbbbbbb..............
        ....bbbbbbbbbbbbbb..............
        ...bbbbbbbbbbbbbbb..............
        ..bbbbbbbbbbbb..................
        ..bbbbbb........................
        .bbbbbb.........................
        .bbbbb..........................
        bbbbb...........................
        bbbbb...........................
        bbbb..............d.............
        bbbb..............d.............
        bbbb...........e..dd............
        ...........5555e5555............
        ..........55555555555...........
        .........5555555555555..........
        ........555555555555555.........
        .......5555555e5e5555555........
        .......44444444444444444........
        .......4ed44444444444de4........
        .......ee4444444444444ee........
        .......ee4444444444444ee........
        .......ee4444444444444ee........
        .......4ed44444444444de4........
        .......44444444444444444........
        .......f.......f.......f........
        ......f.......f.f.......f.......
        `,img`
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ...............e................
        ...........5555e5555............
        ..........55555555555...........
        .........5555555555555..........
        ........555555555555555.........
        .......5555555e5e5555555........
        .......44444444444444444........
        .......4ed44444444444de4........
        .......ee4444444444444ee........
        .......ee4444444444444ee........
        .......ee4444444444444ee........
        .......4ed44444444444de4........
        .......44444444444444444........
        .......f.......f.......f........
        ......f.......f.f.......f.......
        `],
    150,
    false
    )
    music.play(music.createSoundEffect(WaveShape.Noise, 5000, 5000, 255, 255, 200, SoundExpressionEffect.Warble, InterpolationCurve.Logarithmic), music.PlaybackMode.UntilDone)
})
let projectile: Sprite = null
let revolver: Sprite = null
tiles.setCurrentTilemap(tilemap`level1`)
let mySprite = Render.getRenderSpriteVariable()
Render.setViewMode(ViewMode.raycastingView)
revolver = sprites.create(img`
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ...............e................
    ...........5555e5555............
    ..........55555555555...........
    .........5555555555555..........
    ........555555555555555.........
    .......5555555e5e5555555........
    .......44444444444444444........
    .......4ed44444444444de4........
    .......ee4444444444444ee........
    .......ee4444444444444ee........
    .......ee4444444444444ee........
    .......4ed44444444444de4........
    .......44444444444444444........
    .......f.......f.......f........
    ......f.......f.f.......f.......
    `, SpriteKind.gun)
let crosshair = sprites.create(img`
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ...............222..............
    ..............2.2.2.............
    .............2..2..2............
    .............2222222............
    .............2..2..2............
    ..............2.2.2.............
    ...............222..............
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    `, SpriteKind.gun)
revolver.setScale(5, ScaleAnchor.Middle)
revolver.setFlag(SpriteFlag.RelativeToCamera, true)
crosshair.setFlag(SpriteFlag.RelativeToCamera, true)
